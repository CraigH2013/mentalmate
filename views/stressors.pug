extends profile.pug

block profile-content
  section.hero.is-white: .hero-body.container
    .level.tab-container
      .level-item
        span.icon
          i.fas.fa-long-arrow-alt-right
        a.nav-tab.is-red.is-active(href="/profile/stressors") Stressors
      .level-item
        a.nav-tab.is-purple(href="/profile/insights") Insights
      .level-item
        a.nav-tab.is-blue(href="/profile/activities") Activities
  
  block stressor-content
    section.section: .container
      .level
        .level-left
        //- if count !== 0
        //-   .level-left
        //-     .level-item
        //-       p #[strong= count] #[code #{count > 1 ? 'stressors' : 'stressor'}]
        //- else
        //-   .level-left
        .level-right
          .level-item
            a.button.is-danger(href="/profile/stressors/new")
              span.icon.is-small: i.fas.fa-plus
              span New
      if count
        hr
        each values, category in stressors
          p.is-uppercase.subtitle.is-7.has-text-weight-bold= category
          each val in values
            .card
              header.card-header
                p.card-header-title= val.text
                a.card-header-icon(href=`/profile/stressors/${val.id}`)
                  span.icon.has-text-black: i.far.fa-edit
              .card-content: .content
                if val.attention > 0.66
                  progress.progress.is-small.is-danger(value=`${val.attention * 100}` max="100")
                else if val.attention > 0.33
                  progress.progress.is-small.is-warning(value=`${val.attention * 100}` max="100")
                else if val.attention > 0
                  progress.progress.is-small.is-success(value=`${val.attention * 100}` max="100")
            br 



      else
        p.has-text-centered No stressors